{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"./updateform.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateForm(_ref){let{id,InitialTitle,InitialPreview,InitialPost,onUpdate}=_ref;const[blogs,setBlogs]=useState([]);const[title,setTitle]=useState(InitialTitle);const[preview,setPreview]=useState(InitialPreview);const[post,setPost]=useState(InitialPost);useEffect(()=>{fetchBlogs();},[]);const fetchBlogs=()=>{axios.get(\"http://localhost:3001/blogs\").then(res=>{setBlogs(res.data);console.log(res.data);});};const handleUpdate=()=>{axios.put(`http://localhost:3001/blogs/${id}`,{title,preview,post}).then(()=>{onUpdate();}).catch(error=>{console.log(\"Unable to update blog\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container update-form\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"pb-2\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{className:\" rounded-xl form-control\",type:\"text\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"pb-2\",children:\"Preview:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control rounded-xl \",type:\"text\",value:preview,onChange:e=>setPreview(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"pb-2\",children:\"Post:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"10\",cols:\"20\",className:\"form-control rounded-xl \",value:post,onChange:e=>setPost(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-5 \",onClick:handleUpdate,children:\"Submit Blog!\"})]});}export default UpdateForm;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UpdateForm","_ref","id","InitialTitle","InitialPreview","InitialPost","onUpdate","blogs","setBlogs","title","setTitle","preview","setPreview","post","setPost","fetchBlogs","get","then","res","data","console","log","handleUpdate","put","catch","error","className","children","type","value","onChange","e","target","rows","cols","onClick"],"sources":["C:/Users/JUNAID/Desktop/siyajunaid/MernBlog/Frontend/src/components/UpdateForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./updateform.css\";\r\n\r\nfunction UpdateForm({\r\n  id,\r\n  InitialTitle,\r\n  InitialPreview,\r\n  InitialPost,\r\n  onUpdate,\r\n}) {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [title, setTitle] = useState(InitialTitle);\r\n  const [preview, setPreview] = useState(InitialPreview);\r\n  const [post, setPost] = useState(InitialPost);\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const fetchBlogs = () => {\r\n    axios.get(\"http://localhost:3001/blogs\").then((res) => {\r\n      setBlogs(res.data);\r\n      console.log(res.data);\r\n    });\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    axios\r\n      .put(`http://localhost:3001/blogs/${id}`, { title, preview, post })\r\n      .then(() => {\r\n        onUpdate();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Unable to update blog\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container update-form\">\r\n      <label className=\"pb-2\">Title:</label>\r\n      <input\r\n        className=\" rounded-xl form-control\"\r\n        type=\"text\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <br />\r\n      <br />\r\n      <label className=\"pb-2\">Preview:</label>\r\n      <input\r\n        className=\"form-control rounded-xl \"\r\n        type=\"text\"\r\n        value={preview}\r\n        onChange={(e) => setPreview(e.target.value)}\r\n      />\r\n      <br />\r\n      <br />\r\n\r\n      <label className=\"pb-2\">Post:</label>\r\n      <textarea\r\n        rows=\"10\"\r\n        cols=\"20\"\r\n        className=\"form-control rounded-xl \"\r\n        value={post}\r\n        onChange={(e) => setPost(e.target.value)}\r\n      />\r\n      <br />\r\n      <br />\r\n      {/* Button */}\r\n      <button className=\"btn mb-5 \" onClick={handleUpdate}>\r\n        Submit Blog!\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}